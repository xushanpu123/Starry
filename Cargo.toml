[patch."https://github.com/Arceos-crates/axconfig.git".axconfig]
path = "modules/axconfig"

[patch."https://github.com/Arceos-crates/axhal.git".axhal]
path = "modules/axhal"

[patch."https://github.com/Arceos-crates/axdriver.git".axdriver]
path = "modules/axdriver"

[patch."https://github.com/Arceos-crates/arceos_posix_api.git".arceos_posix_api]
path = "api/arceos_posix_api"

[workspace]
resolver = "2"

members = [
    "modules/axconfig",
    "modules/axdriver",
    "modules/axhal", 
    "api/arceos_posix_api",
    "ulib/axstd",
    "ulib/axlibc",
    "ulib/axstarry/syscall_net",
    "ulib/axstarry/syscall_entry",
    "apps/display",
    "apps/exception",
    "apps/helloworld",
    "apps/memtest",
    "apps/fs/shell",
    "apps/net/echoserver",
    "apps/net/httpclient",
    "apps/net/httpserver",
    "apps/net/udpserver",
    "apps/net/bwbench",
    "apps/task/parallel",
    "apps/task/sleep",
    "apps/task/yield",
    "apps/task/priority",
    "apps/task/tls",
    "apps/oscomp",
    "apps/ostrain/fileopen",
    "apps/ostrain/fileread",
    "apps/ostrain/filewrite",
    "apps/ostrain/taskyield",
    "apps/ostrain/task_single_yield",
    "apps/ostrain/danger_access"
]

[profile.release]
lto = true

[patch.crates-io]
crate_interface = { git = "https://github.com/Arceos-crates/crate_interface.git" }

[patch."https://github.com/rcore-os/smoltcp.git"]
smoltcp = { git = "https://github.com/c0per/smoltcp", branch = "starryos" }